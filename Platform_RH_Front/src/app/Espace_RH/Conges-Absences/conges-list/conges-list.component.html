<app-sidebar></app-sidebar>
<div class="main main-app p-3 p-lg-4">
  <div class="d-flex align-items-center justify-content-between mb-4">
      <div>
          <ol class="breadcrumb fs-sm mb-1">
              <li class="breadcrumb-item"><a href="#">Tableau de bord</a></li>
              <li class="breadcrumb-item active" aria-current="page">Liste congés</li>
          </ol>
          <h4 class="main-title mb-0">Voici la liste des conges acceptes</h4>
      </div>

      <nav class="nav nav-icon nav-icon-lg">
        <button routerLink="/valid-conges" class="btn fs-sm btn-primary" >Nouveau Demandes</button>
       </nav>
  </div>
  <div class="col-12">
      <input type="text" [(ngModel)]="searchTerm" placeholder="Recherche...">
      <br><br>
      <table id="tableGrid2" class="table table-hover">
          <thead>
              <tr style="border: 20px; color: black;">
                  <th> <span class="badge bg-success">Nom et Prénom</span></th>
                  <th> <span class="badge bg-success">Matricule</span></th>
                    <th>Date Envoi</th>
                    <th>Date Début</th>
                    <th>Date Fin</th>
                    <th>Jours restants</th>
                    <th>Cumulative</th>
                    <th>État </th>
              </tr>
          </thead>
          <tbody>
            <tr *ngFor="let demande of allDemandes">
              <td>{{userData.userFirstName }} {{userData.userLastName}}</td>
              <td>{{userData.matricule}}</td>
              <td>{{ demande.dateEnvoi | date: 'short' }}</td>
              <td>{{ demande.dateDebut | date: 'short' }}</td>
              <td>{{ demande.dateFin | date: 'short' }}</td>
              <td>{{ demande.daysRemaining}}</td>
              <td>{{ demande.cumulative ? 'Yes' : 'No' }}</td>
<td>
  <span *ngIf="demande.status === null" class="text-secondary">En attente de validation</span>
  <span *ngIf="demande.status === 'accepted'" class="text-success">Accepté(e)</span>
  <span *ngIf="demande.status === 'rejected'" class="text-danger">Rejeté(e)</span>
</td>

            </tr>
          </tbody>
      </table>
  </div>
  <!-- <ul class="pagination pagination-circled">
      <li class="page-item" (click)="onPageChange(currentPage - 1)">
          <a class="page-link" routerLink="/liste-affaire">&#9664;</a> <!-- Left arrow symbol -->
      <!-- </li>
      <li class="page-item" *ngFor="let page of getPaginationArray()">
          <a class="page-link" routerLink="/liste-affaire"(click)="onPageChange(page)">{{ page }}</a>
      </li>
      <li class="page-item" (click)="onPageChange(currentPage + 1)">
          <a class="page-link" routerLink="/liste-affaire">&#9654;</a> <!-- Right arrow symbol -->
      <!-- </li>
  </ul> -->
</div>

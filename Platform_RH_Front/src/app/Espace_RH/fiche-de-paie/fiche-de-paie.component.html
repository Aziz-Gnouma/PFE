

<app-sidebar></app-sidebar>
<div class="main main-app p-3 p-lg-4">
    <div class="d-flex align-items-center justify-content-between mb-4">
      <div>
        <ol class="breadcrumb fs-sm mb-1">
          <li class="breadcrumb-item"><a >Dashboard</a></li>
          <li class="breadcrumb-item active" aria-current="page">Fiche De Paie - Historique</li>
        </ol>


      </div>
    
      <nav *ngIf="AppServiceService.roleMatch(['GRH'])" class="nav nav-icon nav-icon-lg">
        <button  class="btn fs-sm btn-success" (click)="calculateSalariesForAllEmployees()" >Calculer Salaires</button>
       </nav>
    </div>



    <div class="col-12"  >
        
          <br>

        <input type="text"  [(ngModel)]="searchTerm" placeholder="Search avec  Date OU CIN ...">
        <br><br>
        <table  id="tableGrid2" class="table table-hover">
            <thead>
              <tr style="border: 20px; color: black;">
                <th> <span >Date de Payment</span>
                </th>
                <th>Cin</th>
                <th>Nom Employé</th>
                <th>Salaire Base</th>
                <th>Salaire Imposable</th>
                <th>Retenue à la source </th>
                <th>Salaire Net</th>
                <th>Fonction</th>
                <th>N CSS</th>
                <th>Chef De Famille</th>
                <th>Telechargement</th>

              </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ok of FicheDePaie  ">
                    <td> <span class="badge badge-pill bg-info"> {{ ok.dateAjouter | dateFormat }}</span></td>
                    <td>{{ ok.cinEmploye }}</td>
                    <td>{{ ok.nomEmploye }}</td>
                    <td>{{ ok.montantMensuel }}</td>
                    <td>{{ ok.salaireImposable }}</td>
                    <td>{{ ok.irppMensuel }}</td>
                    <td>{{ ok.salaireNet }}</td>
                    <td>{{ ok.fonction }}</td>
                    <td>{{ ok.ncss }}</td>
                    <td>{{ ok.situationFamiliale }}</td>
                    <td>
                        <button  class="btn btn-outline-warning" (click)="telechargerFiche2(ok.matricule, ok.dateAjouter)">Télécharger</button>
                    </td>

                    <td> <span class="badge badge-pill bg-success"> Payé</span>
                    </td>

                </tr>
             
            </tbody>
          </table>

          
      </div>

